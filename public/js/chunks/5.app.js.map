{"version":3,"sources":["webpack:///./resources/js/src/views/_components/Datatable/useDatatable.js","webpack:///./resources/js/src/views/_components/Datatable/index.js","webpack:///./resources/js/src/views/User/styles.scss?fd98","webpack:///./resources/js/src/views/_components/Datatable/style.scss?0589","webpack:///./resources/js/src/views/_components/Datatable/style.scss","webpack:///./resources/js/src/views/User/styles.scss","webpack:///./resources/js/src/views/_components/Collapse/styles.scss?6ba2","webpack:///./resources/js/src/views/_components/Collapse/styles.scss","webpack:///./resources/js/src/supports/helper.js","webpack:///./resources/js/src/views/_components/Select/index.js","webpack:///./resources/js/src/views/_components/Collapse/index.js","webpack:///./resources/js/src/views/User/index.js","webpack:///./resources/js/src/supports/axios.js"],"names":["useDatatable","props","state","useSelector","datatable","history","useHistory","dispatch","useDispatch","typingTimer","useLocation","useState","columns","setColumns","addFilter","addAction","nameRoute","propsColumns","allEffect","remove","search","pagination","pageSize","current","useEffect","fetchData","insertColumns","key","title","width","dataIndex","render","text","record","index","handleNumber","hideAction","usePopup","length","_","allButtonAction","per_page","Number","actions","EditOutlined","color","handle","e","handleEdit","hide","hideEdit","disabled","disabledEdit","DeleteOutlined","handleDelete","hideDelete","disabledDelete","type","onClick","handleDetail","data","size","selectItem","filter","item","map","attributes","style","margin","className","block","payload","push","pathname","Swal","fire","icon","showConfirmButton","showCancelButton","confirmButtonText","cancelButtonText","then","result","value","axios","post","id","response","alert","handleError","a","params","page","get","handleAdd","handleSearch","target","clearTimeout","setTimeout","handleShowPage","handleOpenPopup","handleClosePopup","handlePagination","Option","Layout","Content","Select","source","loading","openPopup","visible","onCancel","okButtonProps","display","cancelButtonProps","span","xs","sm","md","defaultValue","onChange","marginRight","float","minHeight","dataSource","locale","emptyText","total","content","module","i","options","transform","undefined","locals","exports","error","status","timer","mixin","toast","position","timerProgressBar","onOpen","addEventListener","stopTimer","resumeTimer","Collapse","Panel","user","initialFilter","label","BarsOutlined","console","log","Datatable","baseUrl","document","head","querySelector","instance","create","baseURL"],"mappings":"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","file":"js/chunks/5.app.js","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {useHistory, useLocation} from \"react-router-dom\";\nimport {useSelector, useDispatch} from 'react-redux';\n\nimport axios from '../../../supports/axios';\nimport {alert, handleError} from '../../../supports/helper';\n\n// third party\nimport Swal from 'sweetalert2';\n// antd\nimport 'antd/lib/button/style/css';\nimport { Button } from 'antd';\nimport {\n    EditOutlined, DeleteOutlined,\n} from '@ant-design/icons';\n\nconst useDatatable = props => {\n    const state     = useSelector(state => state.datatable);\n    const history   = useHistory();\n    const dispatch  = useDispatch();\n    const location  = useLocation();\n\n    let typingTimer                 = null;\n    const [columns, setColumns]     = useState([]);\n\n    let addFilter       = props.addFilter; // how use in below\n    let addAction       = props.addAction ? props.addAction : [];\n    let nameRoute       = props.nameRoute ? props.nameRoute : '/';\n    let propsColumns    = props.columns   ? props.columns : []; // columns from menu e.g. menu user\n    \n    let allEffect   = [\n        state.remove, state.search, state.pagination.pageSize, \n        state.pagination.current, addFilter,\n    ];\n\n    useEffect(() => {\n        fetchData();\n        insertColumns();\n    }, allEffect);\n    \n    const handleOpenPopup = () => {\n        dispatch({type: 'OPEN_POPUP'});\n    }\n\n    const handleClosePopup = () => {\n        dispatch({type: 'CLOSE_POPUP'});\n    }\n\n    const insertColumns = () => {\n\n        propsColumns = [\n            { \n                key: 'no', title: 'No', width: '4%', dataIndex: '', \n                render: (text, record, index) => handleNumber(index, record)\n            },\n            ...propsColumns\n        ]\n\n        // if hideAction = true, hide column action\n        if(!props.hideAction){\n            let width = 8 ;\n\n            if(!props.usePopup){\n                width += (3 * addAction.length);\n            }\n\n            propsColumns = [\n                ...propsColumns, \n                {\n                    key: 'x',\n                    width: width+'%',\n                    dataIndex: '',\n                    title: 'Action',\n                    render: (_, record) => allButtonAction(record),\n                },\n            ];\n        }\n\n        setColumns(propsColumns);\n    }\n\n    const handleNumber = (index, record) => {\n        const per_page      = Number(state.pagination.pageSize);\n        const current_page  = Number(state.pagination.current);\n        \n        let number = index + (current_page * per_page);\n    \n        return (number - per_page) + 1 +'.';\n    }\n\n    const allButtonAction = (record, usePopup = props.usePopup) => {\n        let actions = [\n            {\n                title: <EditOutlined />, color: 'primary', handle:e => handleEdit(e), \n                hide: props.hideEdit, disabled: props.disabledEdit,\n            },\n            {\n                title: <DeleteOutlined />, color: 'danger', handle:e => handleDelete(e), \n                hide: props.hideDelete, disabled: props.disabledDelete,\n            },\n        ];\n\n        actions = [\n            ...actions,\n            ...addAction,\n        ];\n\n        if(usePopup){\n            return (\n                <Button \n                    type=\"primary\"\n                    onClick={() => handleDetail(record)}\n                >\n                    Detail\n                </Button>\n            )\n        }else{\n            let data = record;\n            let size = 'small';\n\n            if(props.usePopup){\n                data = state.selectItem;\n                size = 'large';\n            }\n\n            return actions.filter(item => !item.hide).map((item, index) => {\n                const attributes = {\n                    key:index, \n                    size:size, \n                    type:item.color,\n                    style:{margin: '1px'},\n                    disabled:item.disabled,\n                    className:`btn-${item.color}`,\n                    onClick:() => item.handle(data), // how can addAction get data\n                }\n\n                return <Button {...attributes} block={props.usePopup}>{item.title}</Button>\n            });\n        }\n    }\n\n    const handleDetail = record => {\n        dispatch({type: 'OPEN_POPUP'});\n        dispatch({type: 'SELECT_ITEM', payload: record});\n    }\n\n    const handleAdd = () => {\n        history.push({\n            pathname: nameRoute+\"/form\",\n        });\n    }\n\n    const handleEdit = data => {\n        history.push({\n            pathname: nameRoute+\"/form\",\n            state: data,\n        });\n\n        dispatch({type: 'CLOSE_POPUP'});\n    }\n\n    const handleDelete = data => {\n        dispatch({type: 'CLOSE_POPUP'});\n        Swal.fire({\n                icon: 'question',\n                text: 'Anda yakin ingin menghapus data ini ?',\n                showConfirmButton: true,\n                showCancelButton: true,\n                confirmButtonText: \"Ya, Yakin.\",\n                cancelButtonText: \"Tidak.\", \n            })\n            .then((result) => {\n                if(result.value){\n                    dispatch({type: 'LOADING'});\n                    axios.post(nameRoute+\"/delete/\"+data.id)\n                        .then(response => {\n                            alert(response);\n\n                            dispatch({type: 'DELETE_DATA', payload: data.id});\n                        })\n                        .catch(e => {\n                            dispatch({type: 'REMOVE_LOADING'});\n                            handleError(e);\n                        });\n                }\n            });\n    }\n\n    const handleSearch = e => {\n        let search = e.target.value;\n\n        clearTimeout(typingTimer);\n        typingTimer = setTimeout(() => {\n            dispatch({type: 'SEARCH', payload: search});\n        }, 800);\n\n    }\n\n    const handlePagination = e => {\n        dispatch({type: 'CHANGE_PAGE', payload: e});\n    }\n\n    const handleShowPage = e => {\n        dispatch({type: 'SHOW_PAGE', payload: e});\n    }\n\n    const fetchData = async () => {\n\n        let params = {\n            search: state.search,\n            page: state.pagination.current,\n            per_page: state.pagination.pageSize,\n            ...addFilter,\n        }\n\n        dispatch({type: 'LOADING'});\n        await axios.get(nameRoute, {params: params})\n            .then(response => {\n                let data = response.data;\n                \n                dispatch({type: 'FETCH_DATA', payload: data});\n            })\n            .catch(e => {\n                dispatch({type: 'REMOVE_LOADING'});\n                handleError(e);\n            });\n    }\n\n    return {\n        ...state,\n        columns: columns,\n        // function\n        handleAdd: handleAdd,\n        handleSearch: handleSearch,\n        handleShowPage: handleShowPage,\n        allButtonAction: allButtonAction,\n        handleOpenPopup: handleOpenPopup,\n        handleClosePopup: handleClosePopup,\n        handlePagination: handlePagination,\n    };\n}\n\nexport default useDatatable;\n\n/*\nconst addFilter = {name: null, address: null};\nconst addAction = [\n    {title: <BarsOutlined />, color: 'info', handle:e => handleDetail(e)},\n];\nconst columns = [\n    {title: 'Name', dataIndex: 'name', key: 'name'},\n];\n*/","import React, {useState, useEffect} from 'react';\nimport useDatatable from './useDatatable';\nimport { useLocation } from \"react-router-dom\";\nimport './style.scss';\n\n// IMPORTANT, how use tag datatable in below.\n\nimport 'antd/lib/row/style/css';\nimport 'antd/lib/col/style/css';\nimport 'antd/lib/input/style/css';\nimport 'antd/lib/table/style/css';\nimport 'antd/lib/modal/style/css';\nimport 'antd/lib/button/style/css';\nimport 'antd/lib/select/style/css';\nimport 'antd/lib/layout/style/css';\nimport 'antd/lib/pagination/style/css';\nimport { \n    Table, Button, Row, Col, Input, \n    Select, Pagination, Modal,\n    Layout\n} from 'antd';\nimport {\n    PlusSquareOutlined, AudioOutlined,\n} from '@ant-design/icons';\n\nconst { Content } = Layout;\nconst { Option } = Select;\n\nconst datatable = props => {\n    const {\n        // state\n        pagination, source, loading, columns, \n        openPopup, selectItem,\n        // function\n        handleAdd, handleSearch, handleOpenPopup, \n        handleClosePopup, handleShowPage, handlePagination,\n        allButtonAction,\n    } = useDatatable(props);\n\n    // useEffect(() => {\n    //     console.log(pagination.current);\n    // }, [pagination.current])\n\n    return(\n        <div>\n            <Modal\n                title=\"Detail Tombol Action\"\n\n                width={350}\n                visible={openPopup}\n                onCancel={handleClosePopup}\n                okButtonProps={{ style: { display: 'none' } }}\n                cancelButtonProps={{ style: { display: 'none' } }}\n            >\n                {allButtonAction(selectItem, false)}\n            </Modal>\n            <Row>\n                <Col span=\"4\">\n                    <Button \n                        size=\"large\"\n                        className=\"btn-success\"\n                        onClick={() => handleAdd()} \n                    >\n                        Tambah\n                    </Button> \n                </Col>\n            </Row>\n            <hr />\n            <Row type=\"flex\">\n                <Col xs={24} sm={24} md={6}>\n                    Show &nbsp;\n                    <Select defaultValue=\"5\" style={{ width: 70 }} onChange={handleShowPage}>\n                        <Option value=\"5\">5</Option>\n                        <Option value=\"10\">10</Option>\n                        <Option value=\"25\">25</Option>\n                        <Option value=\"50\">50</Option>\n                    </Select>\n                    &nbsp; entries\n                </Col>\n                <Col xs={0} sm={0} md={12}>\n                </Col>\n                <Col xs={24} sm={24} md={2}>\n                    <p style={{marginRight: 5, float: 'right'}}>Search :</p>\n                </Col>\n                <Col xs={24} sm={24} md={4}>\n                    <Input\n                        onChange={e => handleSearch(e)}\n                    />\n                </Col>\n            </Row>\n            <Table\n                size=\"small\"\n                loading={loading}\n                // handle column from useDatatable\n                columns={columns} \n                // agar pagination bawaan hilang\n                pagination={pagination} \n                style={{minHeight: 270}}\n                dataSource={source.data} \n                locale={{ emptyText: 'Data Tidak Ada' }}\n            />\n            <Row className=\"pagination\">\n                <Col xs={24} sm={24} md={12}>\n                    Showing {pagination.current} of {pagination.total} entries\n                </Col>\n                <Col xs={0} sm={0} md={12}>\n                    {/* screen desktop */}\n                    <Pagination \n                        style={{float: 'right'}}\n                        total={pagination.total}\n                        onChange={handlePagination}\n                        current={pagination.current} \n                        pageSize={pagination.pageSize} \n                    />\n                </Col>\n                <Col xs={24} sm={24} md={0}>\n                    {/* screen mobile */}\n                    <Pagination \n                        size=\"small\"\n                        total={pagination.total}\n                        onChange={handlePagination}\n                        current={pagination.current} \n                        pageSize={pagination.pageSize} \n                    />\n                </Col>\n            </Row>\n        </div>\n    )\n}\n\nexport default datatable;\n\n// how use tag datatable\n/*\n    <Datatable\n        title=\"name_datatable\" // e.g. table user\n        hideEdit // hide button edit\n        hideDelete // hide button delete\n        hideAction // hide button column action\n        disabledEdit\n        disabledDelete\n        columns={columns} // insert all column table\n        nameRoute={nameRoute} // name route modul e.g /user, /document, dll\n    />\n*/","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!./styles.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!./styles.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!./styles.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"hr {\\n  height: 1px;\\n  border: none;\\n  background-color: #dddbdb;\\n}\\n\\n.components-table-demo-control-bar .ant-form-item {\\n  margin-right: 16px;\\n  margin-bottom: 8px;\\n}\\n\\n.ant-table-pagination {\\n  display: none;\\n}\\n\\n.ant-pagination-options-size-changer.ant-select {\\n  display: none !important;\\n}\\n\\n@media only screen and (max-width: 600px) {\\n  .pagination {\\n    text-align: center;\\n  }\\n}\", \"\"]);\n\n// exports\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!./styles.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!./styles.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!./styles.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".filter {\\n  min-height: 0px !important;\\n}\\n\\n.ant-collapse {\\n  border: 0px !important;\\n}\\n.ant-collapse .ant-collapse-header {\\n  cursor: pointer;\\n  font-size: 19px;\\n  background: #fff;\\n  border: 0px !important;\\n  padding: 0px 0px 10px 0px !important;\\n}\\n.ant-collapse .ant-collapse-item {\\n  cursor: text;\\n  background: #fff;\\n  border: 0px !important;\\n}\\n.ant-collapse .ant-collapse-item .ant-collapse-content-box {\\n  padding: 10px 0px !important;\\n}\", \"\"]);\n\n// exports\n","import React from 'react';\n\n// third party\nimport Swal from 'sweetalert2';\n\nexport const handleError = error => {\n  let response = error.response;\n\n  if(Number(response.status) >= 500 && Number(response.status) <= 599){\n    let message = {\n      data: 'Maaf, Ada Kesalahan Sistem',\n      status: 500,\n    }\n\n    alert(message);\n  }if(Number(response.status) >= 404){\n    let message = {\n      data: 'Maaf, Tidak Ditemukan',\n      status: 404,\n    }\n\n    alert(message);\n  }else{\n    alert(response);\n  }\n}\n\nexport const alert = (response, type) => {\n  let icon = '', title = '';\n\n  if(Number(response.status) >= 200 && Number(response.status) <= 299){\n      icon    = 'success';\n      title   = 'Notification';\n  }else if(Number(response.status) >= 400 && Number(response.status) <= 499){\n      icon    = 'warning';\n      title   = 'Attention';\n  }\n  else if(Number(response.status) >= 500 && Number(response.status) <= 599){\n      icon    = 'error';\n      title   = 'Warning';\n  }   \n\n  if(type === 'popup'){\n      Swal.fire({\n          icon: icon,\n          timer: 2000,\n          title: title,\n          text: response.data,\n          showConfirmButton: false,\n      });\n  }else{\n      const Toast = Swal.mixin({\n          toast: true,\n          position: 'top-end',\n          showConfirmButton: false,\n          timer: 3000,\n          timerProgressBar: true,\n          onOpen: (toast) => {\n              toast.addEventListener('mouseenter', Swal.stopTimer)\n              toast.addEventListener('mouseleave', Swal.resumeTimer)\n          }\n      });\n\n      Toast.fire({\n          icon: icon,\n          title: response.data,\n      });\n  }\n\n  return response.status;\n}\n\nexport const addClass = (elements, myClass) => {\n    // if there are no elements, we're done\n  if (!elements) { return; }\n\n  // if we have a selector, get the chosen elements\n  if (typeof(elements) === 'string') {\n    elements = document.querySelectorAll(elements);\n  }\n\n  // if we have a single DOM element, make it an array to simplify behavior\n  else if (elements.tagName) { elements=[elements]; }\n\n  // add class to all chosen elements\n  for (var i=0; i<elements.length; i++) {\n\n    // if class is not already found\n    if ( (' '+elements[i].className+' ').indexOf(' '+myClass+' ') < 0 ) {\n\n      // add class\n      elements[i].className += ' ' + myClass;\n    }\n  }\n}","import React, {useState, useEffect} from 'react';\n// import Select from 'react-select';\n\n// IMPORTANT, how use tag datatable in below.\n\nimport axios from '../../../supports/axios';\n\nimport 'antd/lib/select/style/css';\nimport {Select, Spin} from 'antd';\n\nconst { Option } = Select;\n\nconst CustomSelect = props => {\n    let typingTimer                 = null;\n    const [data, setData]           = useState([]);\n    const [search, setSearch]       = useState();\n    const [allItem, setAllItem]     = useState(false);\n    const [loading, setLoading]     = useState(false);\n\n    const notFoundContent   = loading ? <Spin size=\"small\" /> : 'Data Tidak Ada';\n\n    useEffect(() => {\n        if(props.data) setData(props.data);\n\n        if(props.url) fetchData();\n    }, [search]);\n\n    const handleSearch = (input, option) => {\n        clearTimeout(typingTimer);\n        typingTimer = setTimeout(() => {\n            setSearch(input);\n        }, 300);\n    }\n\n    const handleOnChange = e => {\n        setSearch(null);\n\n        if(Array.isArray(e.label)){\n            setAllItem(true);\n            e.label = e.label.join().replace(',', '');\n        }\n\n        // setAllItem(false);\n\n        return props.onChange(e);\n    }\n\n    const anotherOption = () => {\n        if(props.nullable){\n            return <Option key={0} value={null}>Tidak Pilih</Option>\n        }else if(!props.required){\n            return <Option key={0} value={null}>Semua {props.label}</Option>\n        }\n    }\n\n    const value = () => {\n        // return props.value ? {key: props.value} : undefined;\n        if(props.value.value != null || allItem){\n            return props.value;\n        }else{\n            return undefined;\n        }\n    } \n\n    const fetchData = async () => {\n        let params = {\n            [props.name]: search,\n        }\n\n        setLoading(true);\n        await axios.get(props.url, {params: params})\n            .then(response => {\n                let data = response.data;\n\n                setData(data);\n                setLoading(false);\n            })\n            .catch(e => {\n                handleError(e);\n                setLoading(false);\n            });\n    }\n\n    return(\n        <div>\n            <label htmlFor={props.name}>\n                {props.label}\n            </label>\n            <Select \n                showSearch\n                labelInValue\n                value={value()}\n                id={props.name}\n                loading={loading}\n                name={props.name}\n                optionFilterProp=\"children\"\n                onChange={e => handleOnChange(e)}\n                notFoundContent={notFoundContent}\n                placeholder={`Pilih ${props.label}`}\n                style={{ width: '100%', ...props.style }} \n                // defaultValue={{key: 0, label: `Pilih ${props.label}`}}\n                onSearch={(input, option) => handleSearch(input, option)}\n            >\n                {anotherOption()}\n                {data.map((item, index) => \n                    <Option\n                        key={index + 1}\n                        value={item[props.valueOption ? props.valueOption : 'id']} \n                    >\n                        {item[props.textOption ? props.textOption : 'name']}\n                    </Option>    \n                )}\n            </Select>\n        </div>\n    )\n}\n\nexport default CustomSelect;\n\n{/* <Select \n    // fot set option\n    valueOption='id'\n    textOption='name'\n\n    nullable\n    name=\"name\"\n    label=\"Nama\"\n    url=\"/user/show\"\n    style={{paddingRight: 5}}\n    value={props.addFilter.id}\n    onChange={e => props.handleAddFilter(e, 'id')}\n    required\n    data={data} // if data static\n    url=\"/user/search\" // if data from API\n/> */}","import React, {useState} from 'react';\n\nimport './styles.scss';\n\nimport 'antd/lib/layout/style/css';\nimport 'antd/lib/collapse/style/css';\nimport { \n    Layout, Collapse \n} from 'antd';\n\nconst { Panel }     = Collapse;\nconst { Content }   = Layout;\n\nconst boxCollapse = props => {\n    const [activeKey, setActiveKey] = useState(0);\n\n    const handleActiveKey = () => {\n        setActiveKey(prev => prev === 0 ? 1 : 0);\n    }\n\n    return(\n        <div>\n            <Content>\n                <div className=\"site-layout-background filter\" >\n                    <Collapse\n                        activeKey={[activeKey]}\n                        expandIconPosition={'right'}\n                        onChange={() => handleActiveKey()}\n                    >\n                        <Panel \n                            key=\"1\"\n                            header={props.title} \n                        >\n                            {props.children}\n                        </Panel>\n                    </Collapse>\n                </div>\n            </Content>\n        </div>\n    )\n}\n\nexport default boxCollapse;","import React, {useEffect, useState} from 'react';\nimport Datatable from '../_components/Datatable';\nimport {useDispatch} from 'react-redux';\n\nimport './styles.scss';\n\n// partials\nimport FilterUser from './partials/FilterUser';\n\nimport 'antd/lib/row/style/css';\nimport 'antd/lib/col/style/css';\nimport 'antd/lib/layout/style/css';\nimport 'antd/lib/breadcrumb/style/css';\nimport { \n    Row, Col, Layout, Breadcrumb,\n} from 'antd';\nimport {\n    BarsOutlined\n} from '@ant-design/icons';\n\nconst { Content }   = Layout;\n\nconst user = props => {\n    const dispatch  = useDispatch();\n\n    const nameRoute = '/user';\n    const initialFilter = {id: null};\n    const [filterUser, setFilterUser] = useState({value: null, label: null});\n    const [addFilter, setAddFilter] = useState(initialFilter);\n    const columns = [\n        {title: 'Name', dataIndex: 'name', key: 'name'},\n    ];\n    const addAction = [\n        {title: <BarsOutlined />, color: 'info', handle:e => handleDetail(e)},\n    ];\n\n    const handleDetail = e => {\n        console.log(e);\n        dispatch({type: 'CLOSE_POPUP'});\n    }\n\n    const handleResetFilter = () => {\n        setAddFilter(initialFilter);\n    }\n\n    const handleAddFilter = (e, name) => {\n        console.log(e, name);\n        setFilterUser({...e});\n        setAddFilter({...addFilter, [name]: e.value});\n    }\n\n    return(\n        <div>\n            <Row className=\"header-content\">\n                <Col span=\"20\">\n                    <h1 className=\"title-content\">User</h1>\n                </Col>\n                <Col span=\"4\">\n                    {/* <Breadcrumb style={{ margin: '16px 0' }}>\n                        <Breadcrumb.Item>User</Breadcrumb.Item>\n                        <Breadcrumb.Item>Table</Breadcrumb.Item>\n                    </Breadcrumb> */}\n                </Col>\n            </Row>\n            {/* <FilterUser\n                addFilter={addFilter}\n                filterUser={filterUser} \n                handleAddFilter={handleAddFilter}\n            /> */}\n            <Content>\n                <div className=\"site-layout-background\" >\n                    <Datatable\n                        columns={columns} \n                        nameRoute={nameRoute}\n                        addFilter={addFilter}\n                        addAction={addAction}\n                    />\n                </div>\n            </Content>\n        </div>\n    )\n}\n\nexport default user;","import axios from 'axios';\n\nlet baseDomain  = document.head.querySelector('meta[name=\"api-base-url\"]').content;\n\nlet baseUrl     = baseDomain + '/api';\n\nconst instance = axios.create({\n    baseURL: baseUrl,\n});\n\nexport default instance;"],"sourceRoot":""}